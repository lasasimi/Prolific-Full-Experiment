{{ block title }}
<link rel="stylesheet" href="{% static 'global/style.css' %}"/>
{{ endblock }}

{{ block content }}

<div class="card bg-mid m-0">
  <h2 class="card-header">üîä Check your audio</h2>
    <div class="card-body">
        <p>Please make sure your audio is on and the volume is up. You should hear a sound clip below. After listening to the clip, please select what you heard from the options below.</p>
        <p>Please click play to hear the number, then type it into the box below.</p>

        <audio id="checkAudio" src="{{ static 'test.mp3' }}" preload="auto"></audio>

        <div style="margin: 10px 0;">
            <button type="button" id="playBtn">‚ñ∂Ô∏è Play</button>
            <button type="button" id="pauseBtn">‚è∏Ô∏è Pause</button>
            <button type="button" id="stopBtn">‚èπÔ∏è Stop</button>
            <button type="button" id="volUpBtn">üîä Volume +</button>
            <button type="button" id="volDownBtn">üîâ Volume -</button>
        </div>
        <br>
        <div id="waveform"></div>
        <button type="button" id="play-btn">Play / Pause</button>
        

    </div>

</div>

        {{ formfield 'audio_answer' }}
<br>
<button class="next-button" type="submit">Next</button>

{{ endblock }}
{{ block script }}
<script src="{{ static 'wavesurfer.min.js' }}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const wavesurfer = WaveSurfer.create({
            container: '#waveform',   // must match your <div id="waveform">
            waveColor: 'rgb(200, 0, 200)',
            progressColor: 'rgb(100, 0, 100)',
            url: "{{ static 'test.mp3' }}",  // point to your static file
        });

        document.getElementById("play-btn").addEventListener("click", () => {
            wavesurfer.playPause();
        });
    });
</script>

{{ endblock}}
{{ block style }}
<style>
.scale-container {
    display: flex;
    justify-content: space-between;
    margin: 10px 0;
    text-align: center;
}

.scale-option {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0px 5px 5px;
    white-space: normal;
}

.scale-number {
    font-weight: normal;
    font-size: normal;
    margin-bottom: 4px;
}

.scale-label {
    margin-top: 4px;
    font-size: 0.9em;
}
</style>

{{ endblock}}

